<div class="apps-page">
  <div class="apps-header">
    <div>
      <h1>Apps</h1>
      <p class="subtitle">Access your applications</p>
    </div>
    <div class="auth-controls">
      @if (isAuthenticated$ | async) {
        <button mat-stroked-button (click)="logout()">
          <mat-icon>logout</mat-icon>
          Logout
        </button>
      } @else {
        <button mat-flat-button color="primary" (click)="login()">
          <mat-icon>login</mat-icon>
          Login
        </button>
      }
    </div>
  </div>

  <div class="apps-grid">
    @for (app of apps; track app.id) {
      <app-app-card
        [app]="app"
        [isAuthenticated]="(isAuthenticated$ | async) ?? false"
      />
    }
  </div>

  @if (isDevMode) {
    <div class="dev-toolbar">
      <button mat-stroked-button (click)="toggleDevAuth()">
        <mat-icon>build</mat-icon>
        Dev: Toggle Auth ({{ (isAuthenticated$ | async) ? 'ON' : 'OFF' }})
      </button>
    </div>
  }
</div>
